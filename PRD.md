# PRD (Product Requirements Document)
## 원가관리 웹 시스템

### 1. 프로젝트 개요
**목적**: 의료/미용 시술의 원가관리 및 수익성 분석을 위한 웹 시스템  
**대상 사용자**: 클리닉 운영진, 회계 담당자  
**핵심 가치**: 실시간 마진 분석을 통한 수익성 최적화

### 2. 기능 요구사항

#### 2.1 핵심 기능
- **제품 관리**: 시술명, 카테고리, 고객가격 관리
- **재료 관리**: 재료명, 원가 정보 관리  
- **자동 원가 계산**: 제품에 포함된 재료들의 원가 자동 합산
- **마진 계산**: 마진 = 고객가 - 총원가, 마진율 = (마진/고객가) × 100

#### 2.2 대시보드 기능
- **마진액 TOP 순위**: 마진이 높은 시술 순위 표시
- **마진율 TOP 순위**: 마진율이 높은 시술 순위 표시  
- **추천 제품 관리**: 병원에서 밀어야 할 제품 등록/관리
- **전체 통계**: 총 시술 수, 평균 마진율, 월간 수익 등

#### 2.3 데이터 관리
- **시술 데이터**: 177개 시술 정보 (Excel 데이터 기반)
- **재료 데이터**: 165개 재료 원가 정보
- **실시간 업데이트**: 가격 변경 시 즉시 마진 재계산
- **대량 업로드**: Excel/CSV 파일을 통한 시술/재료 일괄 등록
- **데이터 검증**: 업로드 전 데이터 유효성 검사 및 중복 체크
- **업로드 히스토리**: 업로드 기록 및 롤백 기능

#### 2.4 대량 업로드 시스템
- **파일 업로드**: Excel(.xlsx), CSV 파일 지원
- **템플릿 제공**: 표준 업로드 템플릿 다운로드
- **데이터 미리보기**: 업로드 전 데이터 검토 기능
- **유효성 검사**: 
  - 필수 필드 체크
  - 데이터 형식 검증 (가격은 숫자만)
  - 중복 데이터 감지
  - 존재하지 않는 재료/카테고리 체크
- **처리 옵션**:
  - 새로운 데이터만 추가
  - 기존 데이터 업데이트
  - 전체 교체 (기존 데이터 삭제 후 새 데이터 입력)
- **진행상황 표시**: 프로그레스 바로 업로드 진행률 표시
- **결과 보고서**: 성공/실패 건수, 오류 상세 내역

### 3. 비기능 요구사항

#### 3.1 성능
- 페이지 로딩 시간: 2초 이내
- 데이터 계산 응답: 1초 이내
- 동시 사용자: 10명 지원

#### 3.2 사용성
- **심플한 UI/UX**: 군더더기 없는 깔끔한 인터페이스
- **직관적 네비게이션**: 원클릭으로 주요 기능 접근
- **반응형 디자인**: 데스크톱/태블릿 지원

#### 3.3 확장성
- 새로운 시술/재료 추가 용이성
- 다중 클리닉 지원 가능한 구조
- API 연동 가능한 아키텍처

### 4. 데이터 구조

#### 4.1 시술 데이터
```
- name: 시술명 (예: "레스틸렌 아이라이트1cc")
- category: 카테고리 (예: "필러")  
- customer_price: 고객가격 (예: 429,000원)
- materials: 사용재료 (예: "레스틸렌 아이라이트0.5cc")
```

#### 4.2 재료 데이터
```
- 재료명: 재료 이름 (예: "레스틸렌 아이라이트0.5cc")
- 비용: 재료 원가 (예: 77,000원)
```

### 5. 우선순위

#### Phase 1 (필수)
1. 기본 데이터 로딩 및 표시
2. 자동 원가/마진 계산
3. 마진 순위 대시보드
4. 기본 CRUD 기능
5. **대량 업로드 시스템 (Excel/CSV)**

#### Phase 2 (권장)
1. 추천 제품 관리
2. 고급 필터링/검색
3. **데이터 내보내기 및 템플릿 다운로드**
4. **업로드 히스토리 및 롤백**
5. 사용자 권한 관리

#### Phase 3 (선택)
1. 차트/그래프 시각화
2. 알림 시스템
3. 모바일 앱
4. API 서비스

### 6. 성공 지표
- **사용률**: 일일 활성 사용자 5명 이상
- **정확성**: 원가 계산 정확도 100%
- **효율성**: 기존 대비 업무 시간 50% 단축
- **만족도**: 사용자 만족도 4.5/5.0 이상

### 7. 제약사항
- **예산**: 개발 및 운영 비용 최소화
- **기간**: 4주 이내 Phase 1 완료
- **기술**: React/Node.js 기반 웹 기술 스택
- **데이터**: 기존 Excel 데이터 마이그레이션 필수